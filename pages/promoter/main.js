require("../../common/manifest.js"),require("../../common/vendor.js"),global.webpackJsonpMpvue([13],{"+mwm":function(t,s){},"4OfJ":function(t,s,a){var i=a("qN+z"),e=a("7LkI"),n=a("ybqe")(i.a,e.a,(function(t){a("IPXR"),a("+mwm")}),"data-v-421445e2",null);s.a=n.exports},"7LkI":function(t,s,a){s.a={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container-wrapper"},[a("header",{staticClass:"flex-space tab-wrapper"},[a("div",{staticClass:"tab-item",class:1==t.tabIndex?"active-tab":"",attrs:{eventid:"0"},on:{click:function(s){t.changeTab(1)}}},[t._v("推广员")]),t._v(" "),a("div",{staticClass:"tab-item",class:2==t.tabIndex?"active-tab":"",attrs:{eventid:"1"},on:{click:function(s){t.changeTab(2)}}},[t._v("我的收益")]),t._v(" "),a("div",{staticClass:"tab-item",class:3==t.tabIndex?"active-tab":"",attrs:{eventid:"2"},on:{click:function(s){t.changeTab(3)}}},[t._v("我的客户")]),t._v(" "),a("div",{staticClass:"tab-item",class:4==t.tabIndex?"active-tab":"",attrs:{eventid:"3"},on:{click:function(s){t.changeTab(4)}}},[t._v("排行榜")])]),t._v(" "),1==t.tabIndex?a("section",{staticClass:"section-1",style:{paddingBottom:t.paddingBottom}},[a("img",{staticStyle:{width:"100%","vertical-align":"top"},attrs:{src:"https://miaogeban.oss-cn-shenzhen.aliyuncs.com/images_miaogeban/promoter_bg.jpg",mode:"widthFix"}}),t._v(" "),a("div",{staticClass:"tips-wrapper",style:{marginBottom:t.paddingBottom}},[t._v('点击"成为推广员"按钮表示同意'),a("span",{attrs:{eventid:"4"},on:{click:function(s){t.policyVisible=!0}}},[t._v("《喵个班推广员协议》")])]),t._v(" "),a("div",{staticClass:"float-btn flex-box",attrs:{eventid:"5"},on:{click:function(s){t.navigateToSubPage("commissionPolicy")}}},[t._v("推广演示")]),t._v(" "),0==t.baseInfo.isPromoter?a("div",{staticClass:"bottom-btn"},[a("span",{attrs:{eventid:"6"},on:{click:t.applyPromoter}},[t._v("申请成为喵个班推广员")]),t._v(" "),1!=t.baseInfo.loginStatus||t.baseInfo.userInfo.mobile?t._e():a("button",{staticClass:"getPhoneBtn",attrs:{"open-type":"getPhoneNumber",eventid:"7"},on:{getphonenumber:t.getphonenumber}})],1):t._e(),t._v(" "),1==t.baseInfo.isPromoter?a("div",{staticClass:"invite-btns"},[a("p",[t._v("你已是推广员，你可以：")]),t._v(" "),a("div",{staticClass:"flex-space_around"},[a("button",{staticClass:"invite-btn",attrs:{"open-type":"share"}},[t._v("立即邀请")]),t._v(" "),a("button",{staticClass:"invite-btn",attrs:{eventid:"8"},on:{click:function(s){t.navigateToSubPage("invitePoster")}}},[t._v("专属推广海报")]),t._v(" "),a("button",{staticClass:"invite-btn flex-box",attrs:{eventid:"9"},on:{click:function(s){t.changeTab(2)}}},[a("span",[t._v("查看收益")]),t._v(" "),a("img",{attrs:{src:"../../../static/images/Icons/right-arrow.png",alt:""}})])],1)],1):t._e()]):2==t.tabIndex?a("section",{staticClass:"section-2"},[0==t.baseInfo.isPromoter?a("div",{staticClass:"noData"},[a("p",[t._v("您还不是推广员！")]),t._v(" "),a("div",[a("div",{staticClass:"apply-btn btn-liner",attrs:{eventid:"11"},on:{click:t.applyPromoter}},[a("span",[t._v("立即申请")]),t._v(" "),1!=t.baseInfo.loginStatus||t.baseInfo.userInfo.mobile?t._e():a("button",{staticClass:"getPhoneBtn",attrs:{"open-type":"getPhoneNumber",eventid:"10"},on:{getphonenumber:t.getphonenumber}})],1)])],1):t._e(),t._v(" "),1==t.baseInfo.isPromoter?a("div",{staticClass:"profit-wrapper"},[a("div",{staticClass:"line"}),t._v(" "),1!=t.baseInfo.isTeamPromoter?a("div",{staticClass:"balance"},[a("span",[t._v("余额")]),t._v(" "),a("h1",[a("span",{staticStyle:{"font-size":"30rpx","font-weight":"normal"}},[t._v("￥")]),t._v(t._s(t.income.balance))]),t._v(" "),a("div",{staticClass:"withdraw-btn btn-liner",attrs:{eventid:"12"},on:{click:t.handleWithdraw}},[t._v("提现到微信钱包")])],1):t._e(),t._v(" "),a("div",{staticClass:"summary flex-space_around margin-top-20"},[a("div",[a("div",[t._v(t._s(t.income.totalCustomer||0))]),t._v(" "),a("span",[t._v("总绑定客户(人)")])]),t._v(" "),a("div",[a("div",[t._v(t._s(t.income.totalOrder||0))]),t._v(" "),a("span",[t._v("总成交客户(人次)")])]),t._v(" "),a("div",[a("div",[t._v(t._s(t.income.totalPrice||0))]),t._v(" "),a("span",[t._v("总收益(元)")])])]),t._v(" "),a("div",{staticClass:"balance-detail margin-top-20"},t._l(t.incomeList,(function(s,i){return a("div",{key:i,staticClass:"balance-item"},[a("div",{staticClass:"balance-item-title flex-space"},[a("span",[t._v(t._s(s.title))]),t._v(" "),s.profit<0?a("span",{staticStyle:{color:"#009933"}},[t._v(t._s(s.profit))]):a("span",{staticStyle:{color:"#FF7749"}},[t._v("+"+t._s(s.profit))])]),t._v(" "),a("span",{staticClass:"balance-item-time"},[t._v(t._s(s.createTime))])])}))),t._v(" "),1!=t.baseInfo.isTeamPromoter?a("i-load-more",{attrs:{tip:t.resTips,loading:t.showLoading,mpcomid:"0"}}):t._e()],1):t._e()]):3==t.tabIndex?a("section",{staticClass:"section-3"},[0==t.baseInfo.isPromoter?a("div",{staticClass:"noData"},[a("p",[t._v("您还不是推广员！")]),t._v(" "),a("div",[a("div",{staticClass:"apply-btn btn-liner",attrs:{eventid:"14"},on:{click:t.applyPromoter}},[a("span",[t._v("立即申请")]),t._v(" "),1!=t.baseInfo.loginStatus||t.baseInfo.userInfo.mobile?t._e():a("button",{staticClass:"getPhoneBtn",attrs:{"open-type":"getPhoneNumber",eventid:"13"},on:{getphonenumber:t.getphonenumber}})],1)])],1):t._e(),t._v(" "),1==t.baseInfo.isPromoter?a("div",{staticClass:"client-wrapper"},[a("div",{staticClass:"header-wrapper flex-box"},[a("div",{staticClass:"search-wrapper flex-box"},[a("div",{staticClass:"search-input-wrapper flex-box-start"},[a("img",{staticClass:"search-icon",attrs:{src:"../../../static/images/Icons/search.png"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.queryList.nickName,expression:"queryList.nickName",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{placeholder:"请输入客户昵称","placeholder-class":"placeholderStyle","confirm-type":"search",eventid:"15"},domProps:{value:t.queryList.nickName},on:{confirm:t.getData,input:function(s){s.target.composing||(t.queryList.nickName=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:t.queryList.nickName,expression:"queryList.nickName"}],staticClass:"clear-icon",attrs:{type:"clear",size:"16",eventid:"16"},on:{click:function(s){t.queryList.nickName="",t.getData()}}})],1),t._v(" "),a("span",{staticClass:"search-btn",attrs:{eventid:"17"},on:{click:t.getData}},[t._v("搜索")])])]),t._v(" "),a("div",{staticStyle:{width:"100%",height:"20rpx",background:"#f0f0f0"}}),t._v(" "),a("div",{staticClass:"client-list"},t._l(t.customerList,(function(s,i){return a("div",{key:i,staticClass:"client-item flex-box-start"},[a("img",{staticClass:"client-avatar",attrs:{src:s.avatarUrl}}),t._v(" "),a("div",{staticClass:"client-detail"},[a("div",{staticClass:"client-name"},[t._v(t._s(s.nickName))]),t._v(" "),a("div",{staticClass:"client-time"},[t._v("注册:"+t._s(s.createTime))]),t._v(" "),a("div",{staticClass:"flex-space"},[a("div",{staticClass:"client-mobile"}),t._v(" "),0==s.payOrder?a("span",{staticStyle:{color:"#766F6C"}},[t._v("未开通")]):t._e()])])])}))),t._v(" "),a("i-load-more",{attrs:{tip:t.resTips,loading:t.showLoading,mpcomid:"1"}})],1):t._e()]):4==t.tabIndex?a("section",{staticClass:"section-4"},[a("div",{staticClass:"rank-wrapper"},[a("div",{staticClass:"time-wrapper"},[t._v("\n        "+t._s(t.time)+"\n      ")]),t._v(" "),a("div",{staticClass:"rankList-wrapper"},t._l(t.rankList,(function(s,i){return a("div",{key:i,staticClass:"rank-item-wrapper flex-box-start"},[a("div",{staticClass:"rank-item flex-box"},[1==s.rank?a("img",{staticClass:"rank-icon",attrs:{src:"https://img.miaogeban.com/images/ranking_one.png"}}):2==s.rank?a("img",{staticClass:"rank-icon",attrs:{src:"https://img.miaogeban.com/images/ranking_two.png"}}):3==s.rank?a("img",{staticClass:"rank-icon",attrs:{src:"https://img.miaogeban.com/images/ranking_three.png"}}):a("span",[t._v(t._s(s.rank))])]),t._v(" "),a("div",{staticClass:"rank-item flex-box-start"},[a("img",{staticClass:"avatar",attrs:{src:s.avatarUrl}}),t._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("span",[t._v(t._s(s.promoter))]),t._v(" "),a("div",{staticClass:"num flex-space"},[a("div",[t._v("成交人数 "),a("span",{staticStyle:{color:"#444"}},[t._v(t._s(s.amount))])]),t._v(" "),a("div",[t._v("额外奖励 "),a("span",{staticStyle:{color:"#444"}},[t._v(t._s(s.reward)+"元")])])])])])])}))),t._v(" "),a("div",{staticClass:"explain-wrapper"},[a("div",{staticClass:"explain-item"},[a("div",{staticClass:"explain-title"},[t._v("排行说明：")]),t._v(" "),a("div",{staticClass:"explain-content margin-top-10"},[a("div",[t._v("1.除正常的推荐提成外，每月的前10名将获得额外奖励")]),t._v(" "),a("div",[t._v("2."+t._s(t.rankDesc||"月榜推荐成交10人以上；季榜推荐成交30人以上；"))])])]),t._v(" "),a("div",{staticClass:"explain-item"},[a("div",{staticClass:"explain-title"},[t._v("计算规则：")]),t._v(" "),a("div",{staticClass:"explain-content margin-top-10"},[a("div",[t._v("按自然月分别统计推广成交人数进行排名")])])]),t._v(" "),a("div",{staticClass:"explain-item"},[a("div",{staticClass:"explain-title"},[t._v("奖金及发放规则：")]),t._v(" "),a("div",{staticClass:"explain-content margin-top-10"},[a("div",[t._v("1.奖金将在每个自然月结束后5个工作日发放至“我的收益”中，可随时提现")])])])]),t._v(" "),t.notInRank&&1==t.baseInfo.isPromoter?a("div",{staticClass:"rank-item-wrapper flex-box-start fixed-rank-item"},[a("div",{staticClass:"rank-item flex-box"},[a("img",{staticClass:"rank-icon",attrs:{src:"https://img.miaogeban.com/images/ranking_no.png"}})]),t._v(" "),a("div",{staticClass:"rank-item flex-box-start"},[a("img",{staticClass:"avatar",attrs:{src:t.baseInfo.userInfo.avatarUrl}}),t._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("span",[t._v(t._s(t.baseInfo.userInfo.nickName))]),t._v(" "),a("div",{staticClass:"num flex-space"},[a("div",[t._v("成交人数 "),a("span",{staticStyle:{color:"#444"}},[t._v(t._s(t.myRankCustomer))])]),t._v(" "),a("div",{staticStyle:{color:"#999"}},[t._v("努力加油哟！")])])])])]):t._e()]),t._v(" "),4==t.tabIndex?a("div",{staticClass:"float-btn",attrs:{eventid:"18"},on:{click:t.changeRank}},[t._v(t._s(2==t.rankQuery.timeType?"本":"上")+"月榜单")]):t._e(),t._v(" "),4==t.tabIndex?a("button",{staticClass:"shareBtn",attrs:{"open-type":"share"}},[t._v("分享")]):t._e()],1):t._e(),t._v(" "),t.popupWindowVisible?a("div",{staticClass:"popup-window flex-box"},[a("div",{staticClass:"popup-window_shadow",attrs:{eventid:"19"},on:{click:function(s){t.popupWindowVisible=!1}}}),t._v(" "),a("div",{staticClass:"popup-window_body"},[a("div",{staticClass:"popup-window_content"},[t._m(0),t._v(" "),a("div",{staticClass:"popup-window_section"},[a("p",[t._v("申请推广员请加客服微信号："),a("span",[t._v(t._s(t.weChat))])]),t._v(" "),a("div",{staticClass:"btn-liner",attrs:{eventid:"20"},on:{click:t.copyWechat}},[t._v("复制客服微信号")])],1)]),t._v(" "),a("div",{staticClass:"popup-window_footer"},[a("img",{attrs:{src:"../../../static/images/Icons/landscape_close.png",eventid:"21"},on:{click:function(s){t.popupWindowVisible=!1}}})])])]):t._e(),t._v(" "),a("wux-landscape",{staticClass:"landscape",attrs:{visible:t.policyVisible,maskClosable:!0,eventid:"22",mpcomid:"2"},on:{close:function(s){t.policyVisible=!1}}},[a("div",{staticClass:"policy-wrapper"},[a("h1",{staticClass:"landscape-header"},[t._v("喵个班推广员协议")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("欢迎申请成为中创科技（广州）有限公司（以下简称“我司”）旗下喵个班微信小程序（包括“喵个班”微信小程序及“喵个班机构端”微信小程序，以下简称“喵个班”）推广员，为了保障您的权益，请在进行下一步操作前，详细阅读本协议的所有内容。当您成为推广员时，您的行为表示您同意并签署了本协议，并同意遵守本协议中的约定。该协议构成您与喵个班达成的协议，具有法律效力。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("本协议内容包括本协议正文、喵个班小程序上已经发布和/或将来可能发布的与喵个班推广员服务相关的各类规则。所有规则为本协议不可分割的组成部分，与本协议具有同等法律效力。一旦相关内容发生变动，喵个班将会通过微信、手机短信或小程序公告等方式提示您。如果您不同意对本协议内容所做的修改，则请立即通过电话反映给我司工作人员（020-85820089）解除推广员合作；如果您愿意继续保持推广员资格的，则视为您同意对本协议内容所做的修改。")]),t._v(" "),a("div",{staticClass:"landscape-title"},[t._v("一. 定义")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("1.喵个班推广员：指在喵个班机构端微信小程序上的微信授权注册用户满足喵个班推广员公布的条件，愿意推荐喵个班给其他用户使用并获取一定的推荐佣金，因此申请并开通了推广员的用户，以下简称“推广员”。")]),t._v(" "),a("div",{staticClass:"landscape-title"},[t._v("二. 推广规则及佣金")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("1.成为推广员后，需按喵个班的推广指引视频进行推广，未按帮助视频进行推广对自身造成的损失，喵个班概不负责。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("2.推广员推荐的客户数据均以线上数据为准，不接受其他方式进行调整申请。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("3.推广员具体佣金收入以喵个班小程序官方公布的《佣金政策》为准；佣金即时发放至推广员收益账单。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("4.当您成功推荐前2个成交客户无法提现！当成功推荐3个或以上成交客户时才能提现。推广员佣金提现采用在线即时提现至微信零钱的方式，单日最多提现10次，单日最大提现金额为5000元。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("5.喵个班有权单方面对推广员佣金及奖励方式予以定价，并有权根据自身运营需要予以变更。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("6.您应当是具备与您行为相适应的民事行为能力的自然人、法人或其他组织。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("7.您知悉并同意，喵个班有权通过小程序页面公告、邮件、短信、微信或电话等形式， 向您发送推广员相关信息。")]),t._v(" "),a("div",{staticClass:"landscape-title"},[t._v("三. 推广员账号")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("1.您授权的微信帐号即为推广员账号；")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("2.同一主体拥有的多个微信帐号，每个微信账号将被识别为一个独立的推广员帐号；")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("3.每个帐号之间的佣金记录无法进行转移、迁徙、转让、赠与，无论该等帐号是否由同一使用人拥有。")]),t._v(" "),a("div",{staticClass:"landscape-title"},[t._v("四. 其他约定")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("1.通知：所有发给您的通知都可通过电子邮件、常规的信件或在喵个班小程序显著位置公告的方式进行传送。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("2.本协议适用中华人民共和国的法律。当本协议的任何内容与中华人民共和国法律相抵触时，应当以法律规定为准，同时相关条款将按法律规定进行修改或重新解释，而本协议其他部分的法律效力不变。")]),t._v(" "),a("div",{staticClass:"landscape-p"},[t._v("3.如使用会员服务过程中出现纠纷，您与喵个班应友好协商解决，若协商不成，应约定相关诉讼由广州市番禺区人民法院管辖。")])],1)]),t._v(" "),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.popupVisible,expression:"popupVisible"}],staticClass:"weui-mask",staticStyle:{opacity:"1"},attrs:{id:"iosMask",eventid:"23"},on:{click:function(s){t.popupVisible=!1,t.btnFlag=0}}}),t._v(" "),a("div",{staticClass:"weui-actionsheet",class:[t.popupVisible?"weui-actionsheet_toggle":""],attrs:{id:"iosActionsheet"}},[a("div",{staticClass:"weui-actionsheet__title"},[a("p",{staticClass:"font-color-000 margin-bottom-10"},[t._v("确认提现至微信钱包吗？")]),t._v(" "),a("span",{staticClass:"font-color-999"},[t._v("单笔提现上限500元")])],1),t._v(" "),a("div",{staticClass:"weui-actionsheet__menu"},[a("div",{staticClass:"weui-actionsheet__cell weui-actionsheet__cell_warn",attrs:{eventid:"24"},on:{click:t.confirmWithdraw}},[t._v("\n          确定\n        ")]),t._v(" "),a("div",{staticClass:"weui-actionsheet__cell",attrs:{id:"iosActionsheetCancel",eventid:"25"},on:{click:function(s){t.popupVisible=!1,t.btnFlag=0}}},[t._v("\n          取消\n        ")])])])]),t._v(" "),t.withdrawVisible?a("div",{staticClass:"popup-window flex-box"},[a("div",{staticClass:"popup-window_shadow"}),t._v(" "),a("div",{staticClass:"successWithdraw"},[a("div",[a("icon",{attrs:{type:"success",size:"22"}}),t._v(" "),a("p",{staticStyle:{margin:"20rpx 0 10rpx"}},[t._v("成功提现")]),t._v(" "),a("div",{staticStyle:{"font-weight":"bold",color:"#ff0000"}},[t._v(t._s(t.income.balance>500?"500":t.income.balance)+"元")])],1),t._v(" "),a("div",{staticClass:"btn-liner",attrs:{eventid:"26"},on:{click:function(s){t.withdrawVisible=!1,t.getData()}}},[t._v("ok")])])]):t._e(),t._v(" "),a("bottom-toast",{ref:"bottomToast",attrs:{mpcomid:"3"}})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"popup-window_header"},[s("div",[this._v("温馨提示")])])}]}},IPXR:function(t,s){},dqVc:function(t,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a("5nAL"),e=a.n(i),n=a("4OfJ");new e.a(n.a).$mount()},"qN+z":function(t,s,a){var i=a("Dd8w"),e=a.n(i),n=a("gyMJ"),o=a("7Knf"),c=a("NYxO"),r=a("YELd");s.a={name:"Promoter",components:{bottomToast:r.a},data:function(){return{code:"",tabIndex:2,paddingBottom:"90rpx",btnFlag:0,withdrawVisible:!1,popupVisible:!1,popupWindowVisible:!1,policyVisible:!1,income:{},incomeList:[],customerList:[],queryList:{nickName:"",pageSize:20,pageNum:1},pageTotal:10,showLoading:!0,resTips:" ",form:{name:"",mobile:""},mobileBtnText:"获取手机号",timer:null,time:"",rankQuery:{timeType:"1"},rankList:[],notInRank:!1,myRankCustomer:0}},computed:e()({},Object(c.b)(["baseInfo"]),{rankDesc:function(){return this.$store.state.sysParams.rankDesc},weChat:function(){return this.$store.state.sysParams.kfWechat}}),onLoad:function(t){var s=this;this.tabIndex=Number(t.tabIndex)||1,wx.login({success:function(t){s.code=t.code},fail:function(){},complete:function(){}}),"1"===this.baseInfo.isPromoter?this.paddingBottom="190rpx":this.paddingBottom="90rpx",this.getData(),this.$store.dispatch("getSysParams")},onUnload:function(){this.popupWindowVisible=!1,this.withdrawVisible=!1,this.policyVisible=!1},methods:{getData:function(){var t=this;2===this.tabIndex?(Object(o.f)().then((function(s){t.income=s.data})),this.showLoading=!0,Object(o.d)(this.queryList).then((function(s){t.showLoading=!1,0===s.code?(t.incomeList=s.data.rows,t.pageTotal=s.data.total,t.incomeList.length===t.pageTotal&&t.pageTotal>0?t.resTips=" ":0===t.pageTotal&&(t.resTips="暂无数据")):t.resTips="暂无数据"}))):3===this.tabIndex?(this.showLoading=!0,Object(o.a)(this.queryList).then((function(s){t.showLoading=!1,0===s.code?(t.customerList=s.data.rows,t.pageTotal=s.data.total,t.customerList.length===t.pageTotal&&t.pageTotal>0?t.resTips=" ":0===t.pageTotal&&(t.resTips="暂无数据")):t.resTips="暂无数据"}))):4===this.tabIndex&&(this.getTime(),Object(o.i)(this.rankQuery).then((function(s){t.rankList=s.data,1===t.baseInfo.loginStatus&&"1"===t.baseInfo.isPromoter&&Object(o.g)(t.rankQuery).then((function(s){t.myRankCustomer=s.data.amount,t.rankList.filter((function(t){return t.id===s.data.id})).length>0?t.notInRank=!1:t.notInRank=!0}))})))},changeTab:function(t){this.tabIndex=t,this.pageTotal=0,this.customerList=[],this.incomeList=[],2===this.tabIndex?this.queryList={pageSize:20,pageNum:1}:3===this.tabIndex&&(this.queryList={nickName:"",pageSize:20,pageNum:1}),this.getData()},applyPromoter:function(){var t=this;this.$store.dispatch("baseInfo/login").then((function(s){t.baseInfo.userInfo.mobile&&(t.popupWindowVisible=!0)}))},formSubmit:function(){var t=this;this.baseInfo.userInfo.mobile?Object(o.h)({mobile:this.baseInfo.userInfo.mobile}).then((function(s){0===s.code?(t.popupWindowVisible=!1,t.$store.commit("baseInfo/SET_ISPROMOTER",1),t.paddingBottom="190rpx",wx.navigateTo({url:"../A-package/pages/successPromoter/main"})):t.showToast(s.msg)})):this.form.name?this.form.mobile?Object(o.h)(this.form).then((function(s){0===s.code?(t.popupWindowVisible=!1,t.$store.commit("baseInfo/SET_ISPROMOTER",1),t.paddingBottom="190rpx",wx.navigateTo({url:"../A-package/pages/successPromoter/main"})):t.showToast(s.msg)})):this.showToast("请输入手机号"):this.showToast("请输入姓名")},handleWithdraw:function(){this.income.balance<.3?wx.showToast({title:"抱歉！余额需大于0.3元！",icon:"none",mask:!0,success:function(t){}}):this.popupVisible=!0},confirmWithdraw:function(){var t=this;1!==this.btnFlag&&(this.btnFlag=1,Object(o.b)({price:this.income.balance>=500?500:this.income.balance}).then((function(s){0===s.code?(t.popupVisible=!1,t.withdrawVisible=!0,t.btnFlag=0):(t.popupVisible=!1,t.showToast(s.msg),t.btnFlag=0)})))},getTime:function(){var t=(new Date).getFullYear(),s=(new Date).getMonth()+1;"2"===this.rankQuery.timeType?this.time=s<2?Number(t)-1+"年12月":t+"年"+(new Date).getMonth()+"月":this.time=t+"年"+s+"月"},changeRank:function(){"2"===this.rankQuery.timeType?this.rankQuery.timeType="":this.rankQuery.timeType="2",this.getTime(),this.getData(),wx.pageScrollTo({scrollTop:0,duration:300})},showToast:function(t){this.$refs.bottomToast.showToast(t)},navigateToSubPage:function(t){wx.navigateTo({url:"../A-package/pages/"+t+"/main"})},getphonenumber:function(t){var s=this;if("getPhoneNumber:ok"===t.mp.detail.errMsg){var a={code:this.code,iv:t.mp.detail.iv,encryptedData:t.mp.detail.encryptedData};Object(n.t)(a).then((function(t){0===t.code&&(s.$store.commit("baseInfo/SET_USERINFO",t.data),Object(n.B)({mobile:t.data.mobile}).then((function(){})),s.popupWindowVisible=!0)}))}},copyWechat:function(){wx.setClipboardData({data:this.weChat,success:function(t){wx.showToast({title:"复制成功",icon:"success",mask:!0,success:function(t){}})}})}},onReachBottom:function(){if(2===this.tabIndex&&this.incomeList.length<this.pageTotal)this.queryList.pageSize+=10,this.getData();else{if(!(3===this.tabIndex&&this.customerList.length<this.pageTotal))return this.resTips=" ",this.showLoading=!1,!1;this.queryList.pageSize+=10,this.getData()}},onShareAppMessage:function(t){return"button"===t.from&&4!==this.tabIndex?{title:this.$store.state.sysParams.shareText,path:"/pages/index/main?uid="+this.baseInfo.id,imageUrl:this.$store.state.sysParams.sharePic,success:function(t){},fail:function(){},complete:function(){}}:"button"===t.from&&4===this.tabIndex?{title:this.$store.state.sysParams.shareText,path:"/pages/extend/main?tabIndex=4",imageUrl:""}:{title:this.$store.state.sysParams.shareText,path:"/pages/index/main",imageUrl:this.$store.state.sysParams.sharePic,success:function(t){},fail:function(){},complete:function(){}}}}}},["dqVc"]);