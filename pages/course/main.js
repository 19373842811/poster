require("../../common/manifest.js"),require("../../common/vendor.js"),global.webpackJsonpMpvue([31],{"0CeH":function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0});var s=e("5nAL"),a=e.n(s),n=e("Z/FV");new a.a(n.a).$mount()},QGm1:function(t,i,e){i.a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container-wrapper"},[e("header",{staticClass:"flex-space"},[e("div",{staticClass:"tab-item",class:0==t.queryList.status?"active-tab":"",attrs:{eventid:"0"},on:{click:function(i){t.switchTab("0")}}},[e("span",[t._v("草稿"),t.countInfo.status0&&t.countInfo.status0>0?e("span",{staticClass:"flag"},[t._v(t._s(t.countInfo.status0))]):t._e()])]),t._v(" "),e("div",{staticClass:"tab-item",class:1==t.queryList.status?"active-tab":"",attrs:{eventid:"1"},on:{click:function(i){t.switchTab("1")}}},[e("span",[t._v("待审核"),t.countInfo.status1&&t.countInfo.status1>0?e("span",{staticClass:"flag"},[t._v(t._s(t.countInfo.status1))]):t._e()])]),t._v(" "),e("div",{staticClass:"tab-item",class:2==t.queryList.status?"active-tab":"",attrs:{eventid:"2"},on:{click:function(i){t.switchTab("2")}}},[e("span",[t._v("招生中"),t.countInfo.status2&&t.countInfo.status2>0?e("span",{staticClass:"flag"},[t._v(t._s(t.countInfo.status2))]):t._e()])]),t._v(" "),e("div",{staticClass:"tab-item",class:3==t.queryList.status?"active-tab":"",attrs:{eventid:"3"},on:{click:function(i){t.switchTab("3")}}},[e("span",[t._v("已结束"),t.countInfo.status3&&t.countInfo.status3>0?e("span",{staticClass:"flag"},[t._v(t._s(t.countInfo.status3))]):t._e()])])]),t._v(" "),t.headerTipsVisible&&2==t.queryList.status?e("div",{staticClass:"header_tips flex-box-start"},[e("img",{attrs:{src:"../../../static/images/Icons/editor_prompt.png",alt:""}}),t._v(" "),e("span",{attrs:{eventid:"4"},on:{click:function(i){t.item={},t.warningVisible=!0}}},[t._v("点击这里")]),t._v(",\n    "),e("span",[t._v("可实时接收学员报名消息")])]):t._e(),t._v(" "),0==t.list.length?e("section",{staticClass:"noData flex-box"},[e("div",[e("img",{attrs:{src:"./images/noData.png",alt:""}}),t._v(" "),e("p",[t._v("暂时没有课程")]),t._v(" "),e("navigator",{staticClass:"btn",attrs:{url:"../index/main","open-type":"switchTab","hover-class":"none"}},[t._v("\n        去制作\n      ")])],1)]):t._e(),t._v(" "),t.list.length>0?e("section",[t._l(t.list,(function(i,s){return e("block",{key:s},[e("div",{staticClass:"list-item margin-top-20"},[e("div",{staticClass:"list-item-header flex-space"},[e("navigator",{staticClass:"list-item-header_left",attrs:{url:"../A-package/pages/editTemplate/main?cid="+i.id,"hover-class":"none"}},[e("img",{staticClass:"banner_img",attrs:{src:i.banner+"?x-oss-process=image/resize,p_80",mode:"widthFix"}}),t._v(" "),e("div",{staticClass:"flex-box"},[e("img",{attrs:{src:"./images/course_edit.png",alt:""}}),t._v(" "),e("span",[t._v("修改活动内容")])])]),t._v(" "),e("div",{staticClass:"list-item-header_right"},[e("div",{staticClass:"list-item-title"},[t._v(t._s(i.title))]),t._v(" "),e("div",{staticClass:"list-item-time flex-box-start"},[i.updateAva?e("img",{attrs:{src:i.updateAva,alt:""}}):t._e(),t._v(" "),i.updateTime?e("span",[t._v("最新编辑于："+t._s(i.updateTime))]):t._e()])])],1),t._v(" "),2==i.status||3==i.status?e("div",{staticClass:"list-item-section flex-space"},[e("div",{staticClass:"section-item",attrs:{eventid:"5_"+s},on:{click:function(e){t.navigateToSubPage("browerRecord",i)}}},[e("p",[t._v(t._s(i.visitNum||0))]),t._v(" "),e("div",[e("span",[t._v("浏览量")]),t._v(" "),e("img",{attrs:{src:"../../../static/images/Icons/right-arrow.png",alt:""}})])],1),t._v(" "),e("div",{staticClass:"section-item",attrs:{eventid:"6_"+s},on:{click:function(e){t.navigateToSubPage("signUpList",i,!1)}}},[e("p",[t._v(t._s(i.signNum||0))]),t._v(" "),e("div",[e("span",[t._v("总报名量")]),t._v(" "),e("img",{attrs:{src:"../../../static/images/Icons/right-arrow.png",alt:""}})])],1),t._v(" "),e("div",{staticClass:"section-item",attrs:{eventid:"7_"+s},on:{click:function(e){t.navigateToSubPage("signUpList",i,!0)}}},[e("p",{style:{color:i.newOrderNum>0?"#ff0000":"#333",fontWeight:i.newOrderNum>0?"bold":""}},[t._v(t._s(i.newOrderNum||0))]),t._v(" "),e("div",[e("span",[t._v("新报名")]),t._v(" "),e("img",{attrs:{src:"../../../static/images/Icons/right-arrow.png",alt:""}})])],1),t._v(" "),e("div",{staticClass:"section-item",attrs:{eventid:"8_"+s},on:{click:function(e){t.navigateToSubPage("promoterList",i)}}},[e("p",[t._v(t._s(i.introduceNum||0))]),t._v(" "),e("div",[e("span",[t._v("转介绍榜单")]),t._v(" "),e("img",{attrs:{src:"../../../static/images/Icons/right-arrow.png",alt:""}})])],1)]):t._e(),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),0==i.status?e("div",{staticClass:"list-item-footer flex-space"},[e("div",{staticClass:"flex-box-start btn-group"},[e("div",{staticClass:"flex-box",attrs:{eventid:"9_"+s},on:{click:function(e){t.handleDelete(i)}}},[e("img",{attrs:{src:"./images/course_delete.png",alt:""}}),t._v(" "),e("span",[t._v("删除活动")])])]),t._v(" "),e("div",{staticClass:"btn-liner",attrs:{eventid:"10_"+s},on:{click:function(e){t.edit(i)}}},[t._v("去发布")])]):t._e(),t._v(" "),1==i.status?e("div",{staticClass:"list-item-shadow flex-box"},[e("div",{staticClass:"flex-box"},[e("p",[t._v("平台审核中...")]),t._v(" "),e("button",{staticClass:"flex-box",attrs:{eventid:"11_"+s},on:{click:function(e){t.edit(i)}}},[e("img",{attrs:{src:"./images/course_editYellow.png",alt:""}}),t._v(" "),e("span",{staticStyle:{color:"yellow"}},[t._v("修改内容")])])],1),t._v(" "),e("div",{staticClass:"flex-box",staticStyle:{"margin-top":"-40rpx"}},[e("span",[t._v("您可以联系客服加快课程审核进度，")]),t._v(" "),e("button",{staticClass:"flex-box-start",attrs:{"open-type":"contact"}},[e("img",{attrs:{src:"./images/kefuYellow.png",alt:""}}),t._v(" "),e("span",{staticStyle:{color:"yellow","text-decoration":"underline"}},[t._v("联系客服")])])],1)]):t._e(),t._v(" "),2==i.status?e("div",{staticClass:"list-item-footer flex-space"},[e("div",{staticClass:"flex-box-start btn-group"},[e("div",{staticClass:"flex-box",attrs:{eventid:"12_"+s},on:{click:function(e){t.navigateToMiniProgram(i)}}},[e("img",{staticStyle:{"margin-right":"8rpx"},attrs:{src:"./images/course_brower.png"}}),t._v(" "),e("span",{staticClass:"bold",staticStyle:{color:"#ff9900"}},[t._v("浏览活动")])]),t._v(" "),e("navigator",{staticClass:"flex-box",attrs:{url:"../A-package/pages/extensionIntro/main","open-type":"navigate","hover-class":"none"}},[e("img",{attrs:{src:"./images/course_share.png",alt:""}}),t._v(" "),e("span",[t._v("推广活动")])]),t._v(" "),e("div",{staticClass:"flex-box",attrs:{eventid:"13_"+s},on:{click:function(e){t.handleClone(i)}}},[e("img",{attrs:{src:"./images/course_bind.png",alt:""}}),t._v(" "),e("span",[t._v("克隆活动")])])],1),t._v(" "),e("div",{staticClass:"flex-box switch-wrapper"},[e("span",[t._v("招生中")]),t._v("\n             \n            "),e("switch",{attrs:{checked:"true",disabled:"",type:"switch",color:"#FDA50F",eventid:"14_"+s},on:{click:function(e){t.switchChange(i)}}})])]):t._e(),t._v(" "),3==i.status?e("div",{staticClass:"list-item-footer flex-space"},[e("div",{staticClass:"flex-box-start btn-group"},[e("div",{staticClass:"flex-box",attrs:{eventid:"15_"+s},on:{click:function(e){t.navigateToMiniProgram(i)}}},[e("img",{staticStyle:{"margin-right":"8rpx"},attrs:{src:"./images/course_brower.png"}}),t._v(" "),e("span",{staticClass:"bold",staticStyle:{color:"#ff9900"}},[t._v("浏览活动")])]),t._v(" "),e("div",{staticClass:"flex-box",attrs:{eventid:"16_"+s},on:{click:function(e){t.handleClone(i)}}},[e("img",{attrs:{src:"./images/course_bind.png",alt:""}}),t._v(" "),e("span",[t._v("克隆活动")])]),t._v(" "),e("div",{staticClass:"flex-box",attrs:{eventid:"17_"+s},on:{click:function(e){t.handleDelete(i)}}},[e("img",{attrs:{src:"./images/course_delete.png",alt:""}}),t._v(" "),e("span",[t._v("删除活动")])])]),t._v(" "),e("div",{staticClass:"flex-box switch-wrapper"},[e("span",{staticStyle:{color:"#999"}},[t._v("已结束")]),t._v("\n             \n            "),e("switch",{attrs:{disabled:"",type:"switch",color:"#FDA50F",eventid:"18_"+s},on:{click:function(e){t.switchChange(i)}}})])]):t._e()])])})),t._v(" "),e("i-load-more",{attrs:{tip:t.resTips,loading:t.showLoading,mpcomid:"0"}})],2):t._e(),t._v(" "),e("v-popup",{ref:"vPopup",attrs:{title:t.popupTitle,eventid:"19",mpcomid:"1"},on:{success:t.confirmDelete}}),t._v(" "),t.expireVisible?e("div",{staticClass:"popup-window flex-box"},[e("div",{staticClass:"popup-window_shadow",attrs:{eventid:"20"},on:{click:function(i){t.expireVisible=!1}}}),t._v(" "),e("div",{staticClass:"popup-window_body warning-popupWindow"},[e("div",{staticClass:"popup-window_content"},[t._m(0),t._v(" "),e("div",{staticClass:"popup-window_section androidWarning"},[e("p",[t._v("限时特惠，续期所有模板免费用")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"renew-btn",attrs:{eventid:"21"},on:{click:function(i){t.navigateTo("renew")}}},[t._v("去续期，享限时特惠")])],1)]),t._v(" "),e("div",{staticClass:"popup-window_footer"},[e("img",{attrs:{src:"../../../static/images/Icons/landscape_close.png",eventid:"22"},on:{click:function(i){t.expireVisible=!1}}})])])]):t._e(),t._v(" "),t.noticeVisible?e("div",{staticClass:"notice-wrapper flex-box",attrs:{eventid:"25"},on:{touchmove:function(t){t.stopPropagation(),(!1)(t)}}},[e("div",[e("img",{staticClass:"notice-image",attrs:{src:t.noticeInfo.image,mode:"widthFix",eventid:"23"},on:{click:function(i){t.checkNotice(t.noticeInfo)}}}),t._v(" "),0==t.noticeInfo.pauseFlag?e("img",{staticStyle:{width:"70rpx",height:"70rpx",padding:"20rpx"},attrs:{src:"../../../static/images/Icons/editor_deletefff.png",eventid:"24"},on:{click:function(i){t.noticeVisible=!1}}}):t._e()])]):t._e(),t._v(" "),t.cloneVisible?e("div",{staticClass:"popup-window flex-box"},[e("div",{staticClass:"popup-window_shadow"}),t._v(" "),e("div",{staticClass:"popup-window_body clone-popupWindow"},[e("div",{staticClass:"popup-window_content"},[t._m(4),t._v(" "),e("div",{staticClass:"popup-window_section"},[e("p",[t._v("此操作将会帮您克隆一个完全一致的招生课程，新课程将会默认置为“"),e("span",{staticClass:"bold"},[t._v("草稿")]),t._v("”状态，您可以在此基础上进行修改，以便提升您的课程编辑效率！")]),t._v(" "),e("div",[e("icon",{attrs:{type:" success",size:"24"}})],1)],1),t._v(" "),e("div",{staticClass:"popup-window_button flex-space"},[e("div",{attrs:{eventid:"26"},on:{click:function(i){t.cloneVisible=!1}}},[t._v("取消")]),t._v(" "),e("div",{attrs:{eventid:"27"},on:{click:t.confirmClone}},[t._v("确定克隆")])])])])]):t._e(),t._v(" "),e("van-popup",{attrs:{show:t.popupVisible,position:"bottom",mpcomid:"3"}},[e("van-datetime-picker",{attrs:{type:"datetime",title:t.dateTimePickTitle,value:t.currentDate,"min-date":t.minDate,formatter:t.formatterDateTimePicker,eventid:"28",mpcomid:"2"},on:{cancel:function(i){t.popupVisible=!1},confirm:t.chooseTime}})],1),t._v(" "),e("notification-dialog",{ref:"notificationDialog",attrs:{visible:t.warningVisible,eventid:"29",mpcomid:"4"},on:{handleClose:t.handleCloseDialog}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"popup-window_header"},[i("img",{attrs:{src:"../../../static/images/templateIcons/landscape_warning01.png",alt:""}}),this._v(" "),i("div",[this._v("机构VIP特权已过期！")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"warning-item flex-box-start"},[i("img",{attrs:{src:"../../../static/images/templateIcons/gou.png",alt:""}}),this._v(" "),i("span",[this._v("多名资深设计师倾注心血之作")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"warning-item flex-box-start"},[i("img",{attrs:{src:"../../../static/images/templateIcons/gou.png",alt:""}}),this._v(" "),i("span",[this._v("教培业顾问级操刀策划课程活动方案")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"warning-item flex-box-start"},[i("img",{attrs:{src:"../../../static/images/templateIcons/gou.png",alt:""}}),this._v(" "),i("span",[this._v("模板不断上新，紧跟热点和招生期段")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"popup-window_header"},[i("div",[this._v("克隆课程")])])}]}},Tish:function(t,i){},"Z/FV":function(t,i,e){var s=e("wvZD"),a=e("QGm1"),n=e("ybqe")(s.a,a.a,(function(t){e("Tish")}),"data-v-0d972db8",null);i.a=n.exports},wvZD:function(t,i,e){var s=e("mvHQ"),a=e.n(s),n=e("Dd8w"),o=e.n(n),c=e("yrTI"),l=e("gyMJ"),r=e("NYxO"),u=e("hHWD"),p=e("3Zj6");i.a={name:"Course",components:{vPopup:u.a,notificationDialog:p.a},computed:o()({},Object(r.b)(["baseInfo"]),{validityTime:function(){if(this.baseInfo.org&&this.baseInfo.org.passTime){var t=new Date,i=(new Date(this.baseInfo.org.passTime.replace(/-/g,"/"))-t)/1e3/60/60/24;return Math.ceil(i)}return 0},charge:function(){return this.$store.state.baseInfo.org?this.$store.state.baseInfo.org.charge:1}}),data:function(){return{btnFlag:0,expireVisible:!1,warningVisible:!1,cloneVisible:!1,isIos:!1,popupTitle:"您真的要删除此课程吗？",countInfo:{},queryList:{pageSize:10,pageNum:1,status:"2"},list:[],total:10,resTips:" ",showLoading:!1,item:{},popupVisible:!1,noticeVisible:!1,headerTipsVisible:!0,minHour:10,maxHour:20,dateTimePickTitle:"活动已过期，请重选到期时间",minDate:(new Date).getTime(),currentDate:(new Date).getTime(),timer:null,noticeFlag:0,noticeInfo:{},noticeCheckedIds:[],formatterDateTimePicker:function(t,i){switch(t){case"year":return i+"年";case"month":return i+"月";case"day":return i+"日";case"hour":return i+"时";case"minute":return i+"分"}}}},onLoad:function(t){var i=this;this.btnFlag=0,t.status&&(this.queryList.status=t.status),wx.getSystemInfo({success:function(t){(t.system.indexOf("iOS")>-1||t.system.indexOf("IOS")>-1||t.system.indexOf("ios")>-1)&&(i.isIos=!0)}})},onShow:function(){var t=this;this.$store.state.courseIndex&&(this.queryList.status=this.$store.state.courseIndex),this.noticeCheckedIds=wx.getStorageSync("noticeCheckedIds")?JSON.parse(wx.getStorageSync("noticeCheckedIds")):[],this.getNotice(),this.$store.dispatch("getSysParams"),this.$store.dispatch("baseInfo/login").then((function(){if(!t.baseInfo.org||"2"!==t.baseInfo.org.status)return t.countInfo={},void(t.list=[]);t.getList()})),wx.getSetting({withSubscriptions:!0,success:function(i){var e=i.subscriptionsSetting.itemSettings;e&&"accept"===e.skjIByIjNLDYxA9BCNiB7XjkaEmU0LiwubGc8X7c5MA?t.headerTipsVisible=!1:t.headerTipsVisible=!0}})},methods:{switchTab:function(t){this.queryList.status=t,this.baseInfo.org&&"2"===this.baseInfo.org.status&&(this.queryList.pageSize=10,this.list=[],this.getList())},getNotice:function(t){var i=this;Object(l.k)().then((function(e){if(wx.hideLoading(),e.data&&"2"===e.data.page)if(i.noticeInfo=e.data,"1"===e.data.pauseFlag)i.noticeVisible=!0;else{var s=i.noticeCheckedIds.length>0?i.noticeCheckedIds.filter((function(t){return t&&t===e.data.id})):[];if(t&&"1"===e.data.restartFlag)"1"===e.data.type||"2"===e.data.type&&i.validityTime>0||"3"===e.data.type&&i.validityTime<1?i.noticeVisible=!0:("2"===e.data.type&&i.validityTime<1||"3"===e.data.type&&i.validityTime>0)&&(i.noticeVisible=!1);else if(t&&"0"===e.data.restartFlag){if(i.validityTime<1)return void(i.expireVisible=!0);var a=new Date(i.item.passTime.replace(/-/g,"/"));new Date-a>0?(i.dateTimePickTitle="活动已过期，请重选到期时间",i.currentDate=(new Date).getTime(),i.popupVisible=!0):(i.popupTitle="您真的要重新发布此课程吗？",i.$refs.vPopup.onShow())}else t||0!==s.length?!t&&s.length>0&&(i.noticeVisible=!1):"1"===e.data.type||"2"===e.data.type&&i.validityTime>0||"3"===e.data.type&&i.validityTime<1?i.noticeVisible=!0:("2"===e.data.type&&i.validityTime<1||"3"===e.data.type&&i.validityTime>0)&&(i.noticeVisible=!1)}else if(!e.data&&t){if(i.validityTime<1)return void(i.expireVisible=!0);var n=new Date(i.item.passTime.replace(/-/g,"/"));new Date-n>0?(i.dateTimePickTitle="活动已过期，请重选到期时间",i.currentDate=(new Date).getTime(),i.popupVisible=!0):(i.popupTitle="您真的要重新发布此课程吗？",i.$refs.vPopup.onShow())}else e.data||t||(i.noticeVisible=!1)}))},checkNotice:function(t){var i=this;if(1!==i.noticeFlag)if(i.noticeFlag=1,"0"===t.pauseFlag&&t.url){if(i.baseInfo&&i.baseInfo.id){var e=i.noticeCheckedIds.length>0?i.noticeCheckedIds.filter((function(i){return i&&i.id!==t.id})):[];e.push(t.id),wx.setStorageSync("noticeCheckedIds",a()(e))}wx.navigateTo({url:t.url})}else"1"===t.pauseFlag&&Object(l.k)().then((function(t){i.noticeFlag=0,t.data&&"2"===t.data.page?(i.noticeInfo=t.data,"1"===t.data.pauseFlag?wx.showToast({title:"升级未完成，请耐心等候",icon:"none",mask:!0,success:function(t){}}):i.noticeVisible=!0):i.noticeVisible=!1}))},getCount:function(){var t=this;Object(c.h)().then((function(i){t.countInfo=i.data}))},getList:function(){var t=this;this.showLoading=!0,this.resTips="正在加载",clearInterval(this.timer),this.timer=null,Object(c.j)(this.queryList).then((function(i){t.showLoading=!1,0===i.code?(t.list=i.data.rows.map((function(t){var i=t;return i.timer=[],i})),t.total=i.data.total,t.list.length===t.total&&t.total>0?t.resTips=" ":0===t.total&&(t.resTips="暂无数据"),t.getCount()):t.resTips="暂无数据"}))},chooseTime:function(t){var i=new Date(t.mp.detail),e=i.getFullYear(),s=(i.getMonth()+1).toString().padStart(2,"0"),a=i.getDate().toString().padStart(2,"0"),n=i.getHours().toString().padStart(2,"0"),o=i.getMinutes().toString().padStart(2,"0");("选择到期时间"===this.dateTimePickTitle||"您真的要重新发布此课程吗？"===this.popupTitle||"3"===this.item.status)&&this.handlePublish(2,e+"-"+s+"-"+a+" "+n+":"+o+":00")},edit:function(t){wx.navigateTo({url:"../A-package/pages/editTemplate/main?cid="+t.id})},handleDelete:function(t){this.item=t,this.popupTitle="您真的要删除此课程吗？",this.$refs.vPopup.onShow()},switchChange:function(t){var i=this;wx.showLoading({title:"请求中...",mask:!0,success:function(t){}}),this.$store.dispatch("baseInfo/login").then((function(e){"2"===t.status?(i.item=t,i.popupTitle="您真的要提前结束此课程活动吗？",wx.hideLoading(),i.$refs.vPopup.onShow()):(i.item=t,i.getNotice("finish"))}))},handleEditPassTime:function(t){var i=this;this.$store.dispatch("baseInfo/login").then((function(e){i.validityTime<1?i.expireVisible=!0:(i.item=t,i.dateTimePickTitle="选择到期时间",i.currentDate=new Date(t.passTime).getTime(),i.popupVisible=!0)}))},confirmDelete:function(){var t=this;1!==this.btnFlag&&(this.btnFlag=1,"您真的要删除此课程吗？"===this.popupTitle?Object(c.i)(this.item.id).then((function(i){0===i.code?(t.btnFlag=0,t.getList(),wx.showToast({title:"操作成功",icon:"success",mask:!0,success:function(t){}}),t.item={}):t.btnFlag=0})).catch((function(){t.btnFlag=0})):"您真的要发布此课程吗？"===this.popupTitle?this.handlePublish(1):"您真的要提前结束此课程活动吗？"===this.popupTitle?this.handlePublish(3):"您真的要重新发布此课程吗？"===this.popupTitle&&this.handlePublish(2))},handlePublish:function(t,i){var e=this;Object(c.z)({id:this.item.id,status:t,passTime:i}).then((function(t){0===t.code?(wx.hideLoading(),wx.showToast({title:"操作成功",icon:"success",mask:!0,success:function(t){}}),e.btnFlag=0,0===Number(e.queryList.status)&&(e.queryList.status="1"),e.getList(),e.popupVisible=!1,e.popupWindowVisible=!1):(wx.showToast({title:t.msg,icon:"none",duration:2e3,mask:!0,success:function(t){}}),e.btnFlag=0)})).catch((function(t){console.log(t),e.btnFlag=0}))},handleClone:function(t){this.item=t,this.cloneVisible=!0},confirmClone:function(){var t=this;wx.showLoading({title:"克隆中...",mask:!0,success:function(t){}}),Object(c.g)(this.item.id).then((function(i){0===i.code?(wx.hideLoading(),t.btnFlag=0,t.cloneVisible=!1,t.queryList.status="0",wx.showToast({title:"操作成功",icon:"success"}),t.getList()):t.btnFlag=0})).catch((function(){t.btnFlag=0}))},handleCloseDialog:function(){var t=this;wx.requestSubscribeMessage({tmplIds:["skjIByIjNLDYxA9BCNiB7XjkaEmU0LiwubGc8X7c5MA"],success:function(i){wx.getSetting({withSubscriptions:!0,success:function(i){var e=i.subscriptionsSetting.itemSettings;e&&"accept"===e.skjIByIjNLDYxA9BCNiB7XjkaEmU0LiwubGc8X7c5MA?t.headerTipsVisible=!1:t.headerTipsVisible=!0}}),t.warningVisible=!1,t.item.id&&wx.navigateToMiniProgram({appId:"wxc4f29287c0701731",path:"/pages/index/main?cid="+t.item.id,envVersion:"release",success:function(i){t.item={}}})},fail:function(){}})},navigateTo:function(t){wx.navigateTo({url:"../"+t+"/main"})},navigateToSubPage:function(t,i,e){wx.requestSubscribeMessage({tmplIds:["skjIByIjNLDYxA9BCNiB7XjkaEmU0LiwubGc8X7c5MA"],success:function(s){wx.navigateTo({url:"../A-package/pages/"+t+"/main?id="+i.id+"&title="+i.title+"&signNum="+(e?i.newOrderNum:i.signNum)+"&newSign="+e})},fail:function(){}})},navigateToMiniProgram:function(t){var i=this;wx.getSetting({withSubscriptions:!0,success:function(e){var s=e.subscriptionsSetting.itemSettings;s&&"accept"===s.skjIByIjNLDYxA9BCNiB7XjkaEmU0LiwubGc8X7c5MA?wx.navigateToMiniProgram({appId:"wxc4f29287c0701731",path:"/pages/index/main?cid="+t.id,envVersion:"release",success:function(t){}}):(i.item=t,i.warningVisible=!0)}})}},onHide:function(){this.$store.commit("SET_COURSEINDEX",""),this.popupVisible=!1,this.expireVisible=!1,this.warningVisible=!1,this.noticeVisible=!1,this.item={},clearInterval(this.timer),this.timer=null},onUnload:function(){clearInterval(this.timer),this.timer=null},onReachBottom:function(){if(!(this.list.length<this.total))return this.resTips=" ",this.showLoading=!1,!1;this.queryList.pageSize+=10,this.getList()}}}},["0CeH"]);